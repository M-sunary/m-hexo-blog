{"meta":{"title":"写代码的厨子","subtitle":"","description":"","author":"sunary","url":"http://sunary.site/m-hexo-blog","root":"/m-hexo-blog/"},"pages":[],"posts":[{"title":"if-else优化方案","slug":"【代码优化】if-else优化方案","date":"2022-03-08T10:11:27.000Z","updated":"2022-03-08T10:13:01.897Z","comments":true,"path":"2022/03/08/【代码优化】if-else优化方案/","link":"","permalink":"http://sunary.site/m-hexo-blog/2022/03/08/%E3%80%90%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96%E3%80%91if-else%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88/","excerpt":"","text":"【代码优化】if-else代码优化方案 优化方案一：提前return，去除不必要的else 如果if-else代码块包含return语句，可以考虑通过提前return，把多余else干掉，使代码更加优雅。 123456789101112//---------优化前---------if(condition)&#123; //do something...&#125;else&#123; return;&#125;//---------优化后---------if(!condition)&#123; return;&#125;//do something 优化方案二：使用三目运算符 使用三目运算符可以简化某些if-else,使代码更加简洁，更具有可读性。 12345678910//---------优化前---------if (condition) &#123; return 1;&#125;else&#123; return 2;&#125;//---------优化后---------return condition ? 1:2; 优化方案三: 使用枚举 123456789101112131415161718192021222324252627282930313233343536373839404142434445//---------优化前---------String OrderStatusDes;if(orderStatus==0)&#123; OrderStatusDes =&quot;订单未支付&quot;;&#125;else if(OrderStatus==1)&#123; OrderStatusDes =&quot;订单已支付&quot;;&#125;else if(OrderStatus==2)&#123; OrderStatusDes =&quot;已发货&quot;; &#125;//---------优化后---------//先定义枚举类public enum OrderStatusEnum &#123; UNPAID(0,&quot;订单未支付&quot;), PAIDED(1,&quot;订单已支付&quot;), SENDED(2,&quot;已发货&quot;) ; private int index; private String desc; public int getIndex() &#123; return index; &#125; public String getDesc() &#123; return desc; &#125; OrderStatusEnum(int index, String desc)&#123; this.index = index; this.desc =desc; &#125; OrderStatusEnum of(int orderStatus) &#123; for (OrderStatusEnum temp : OrderStatusEnum.values()) &#123; if (temp.getIndex() == orderStatus) &#123; return temp; &#125; &#125; return null; &#125;&#125;//有了枚举之后，以上if-else逻辑分支，可以优化为一行代码String OrderStatusDes = OrderStatusEnum.of(orderStatus).getDesc(); 优化方案四: 使用 Optional 有时候if-else比较多，是因为非空判断导致的，这时候你可以使用java8的Optional进行优化。 1234567891011//---------优化前---------String str = &quot;xxxxx&quot;;if (null != str) &#123; doAction(str);&#125;else&#123; doAction1();&#125;//---------优化后---------Optional&lt;String&gt; strOptional = Optional.of(&quot;xxxxx&quot;);strOptional.ifPresentOrElse(doAction(strOptional.get()), () -&gt; doAction1()); 优化方案五: 表驱动法 12345678910111213141516171819//---------优化前---------if (param.equals(value1)) &#123; doAction1(someParams);&#125; else if (param.equals(value2)) &#123; doAction2(someParams);&#125; else if (param.equals(value3)) &#123; doAction3(someParams);&#125;//---------优化前---------Map&lt;?, Function&lt;?&gt; action&gt; actionMappings = new HashMap&lt;&gt;(); // 这里泛型 是为方便演示，实际可替换为你需要的类型// 初始化actionMappings.put(value1, (someParams) -&gt; &#123; doAction1(someParams)&#125;);actionMappings.put(value2, (someParams) -&gt; &#123; doAction2(someParams)&#125;);actionMappings.put(value3, (someParams) -&gt; &#123; doAction3(someParams)&#125;);// 省略多余逻辑语句actionMappings.get(param).apply(someParams); com.ipaylinks.unified.transaction.service.template.ump.AbstractUmpChannelTransactionService#doConfirm","categories":[{"name":"技术","slug":"技术","permalink":"http://sunary.site/m-hexo-blog/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"【代码优化】","slug":"【代码优化】","permalink":"http://sunary.site/m-hexo-blog/tags/%E3%80%90%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96%E3%80%91/"}]},{"title":"十四五规划会议","slug":"十四五规划会议","date":"2022-03-08T03:05:30.000Z","updated":"2022-03-08T03:14:28.746Z","comments":true,"path":"2022/03/08/十四五规划会议/","link":"","permalink":"http://sunary.site/m-hexo-blog/2022/03/08/%E5%8D%81%E5%9B%9B%E4%BA%94%E8%A7%84%E5%88%92%E4%BC%9A%E8%AE%AE/","excerpt":"","text":"","categories":[],"tags":[{"name":"政治生活","slug":"政治生活","permalink":"http://sunary.site/m-hexo-blog/tags/%E6%94%BF%E6%B2%BB%E7%94%9F%E6%B4%BB/"}]},{"title":"博客部署","slug":"博客部署","date":"2022-03-08T02:33:16.000Z","updated":"2022-03-08T02:33:16.928Z","comments":true,"path":"2022/03/08/博客部署/","link":"","permalink":"http://sunary.site/m-hexo-blog/2022/03/08/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"git部署测试","slug":"git部署测试","date":"2022-03-07T10:46:32.000Z","updated":"2022-03-08T03:13:47.039Z","comments":true,"path":"2022/03/07/git部署测试/","link":"","permalink":"http://sunary.site/m-hexo-blog/2022/03/07/git%E9%83%A8%E7%BD%B2%E6%B5%8B%E8%AF%95/","excerpt":"","text":"","categories":[],"tags":[{"name":"技术","slug":"技术","permalink":"http://sunary.site/m-hexo-blog/tags/%E6%8A%80%E6%9C%AF/"}]},{"title":"Test","slug":"Test","date":"2022-03-07T06:03:34.000Z","updated":"2022-03-07T06:03:34.508Z","comments":true,"path":"2022/03/07/Test/","link":"","permalink":"http://sunary.site/m-hexo-blog/2022/03/07/Test/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"错位时空","slug":"错位时空","date":"2022-03-07T03:17:00.000Z","updated":"2022-03-08T03:14:11.087Z","comments":true,"path":"2022/03/07/错位时空/","link":"","permalink":"http://sunary.site/m-hexo-blog/2022/03/07/%E9%94%99%E4%BD%8D%E6%97%B6%E7%A9%BA/","excerpt":"","text":"","categories":[],"tags":[{"name":"Music分享","slug":"Music分享","permalink":"http://sunary.site/m-hexo-blog/tags/Music%E5%88%86%E4%BA%AB/"}]},{"title":"Hello World","slug":"hello-world","date":"2022-03-04T10:11:33.882Z","updated":"2022-03-04T10:11:33.882Z","comments":true,"path":"2022/03/04/hello-world/","link":"","permalink":"http://sunary.site/m-hexo-blog/2022/03/04/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[{"name":"技术","slug":"技术","permalink":"http://sunary.site/m-hexo-blog/categories/%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"【代码优化】","slug":"【代码优化】","permalink":"http://sunary.site/m-hexo-blog/tags/%E3%80%90%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96%E3%80%91/"},{"name":"政治生活","slug":"政治生活","permalink":"http://sunary.site/m-hexo-blog/tags/%E6%94%BF%E6%B2%BB%E7%94%9F%E6%B4%BB/"},{"name":"技术","slug":"技术","permalink":"http://sunary.site/m-hexo-blog/tags/%E6%8A%80%E6%9C%AF/"},{"name":"Music分享","slug":"Music分享","permalink":"http://sunary.site/m-hexo-blog/tags/Music%E5%88%86%E4%BA%AB/"}]}